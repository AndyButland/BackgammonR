@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>BackgammonR</title>

    <link rel="stylesheet" type="text/css" href="/public/css/main.css" />

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write("<script src='/public/js/libs/jquery-1.8.3.min.js'>\x3C/script>")</script>
    <script type="text/javascript" src="/public/js/libs/jquery.signalR-1.0.1.min.js"></script>
    <script type="text/javascript" src="~/signalr/hubs"></script>
    <script type="text/javascript" src="/public/js/libs/knockout-2.1.0.js"></script>
    <script type="text/javascript" src="/public/js/backgammonr.js"></script>
    <script type="text/javascript">
        backgammonr.init();
    </script>
</head>
<body>    
    <div id="side-bar">
        <h2>Join</h2>

        <div data-bind="visible: !hasJoined()">
            <label for="Name">Name</label>
            <input type="text" id="join-name" />
            <button id="join-button">Join</button>
        </div>

        <p id="error-display" class="error error-flash"></p>  

        <p id="message-display" class="message message-flash"></p>  
        
        <div data-bind="visible: hasJoined">
            <p>Welcome <span data-bind="text: name"></span></p>
            <button id="leave-button">Leave</button>
        </div>
        
        <h2>Players</h2>
        <ul id="player-list" data-bind="foreach: players">
            <li>
                <span class="player-name" data-bind="text: name"></span> (<span data-bind="text: status"></span>)
                <a href="" class="challenge" data-bind="visible: canChallenge">Challenge</a>
            </li>
        </ul>

        <h2>Games</h2>
        <ul id="game-list" data-bind="foreach: games">
            <li>
                <span data-bind="text: black"></span> v <span data-bind="text: white"></span>
                <a href="" class="view-game" data-bind="attr: { 'data-id': id }">View</a> 
            </li>
        </ul>

    </div>

    <div id="game">
        <!-- ko if: selectedGame -->
            <h2 data-bind="text: selectedGame().description"></h2>
            <p><span data-bind="text: selectedGame().currentPlayer"></span> to play</p>
         <!-- /ko -->
        <canvas id="canvas" width="720" height="641"></canvas>
        <!-- ko if: selectedGame -->
            <h3>Dice</h3>
            <!-- ko if: isTurn -->
                <div><button id="roll">Roll</button></div>
            <!-- /ko -->
            <div>
                <span id="dice1" class="dice"></span>
                <span id="dice2" class="dice"></span>
            </div>
            <!-- ko if: isTurn -->
                <h3>Move</h3>
                <div>Move 1 -  from: <input id="from1" /> to: <input id="to1" /> </div>
                <div>Move 2 -  from: <input id="from2" /> to: <input id="to2" /> </div>
                <div><button id="move">Move</button></div>
            <!-- /ko -->
        <!-- /ko -->
    </div>

    <div class="hidden">
        <!-- Preloads -->
        <img src="/public/img/board.jpg" />
        <img src="/public/img/black.png" />
        <img src="/public/img/white.png" />
    </div>
</body>
</html>
